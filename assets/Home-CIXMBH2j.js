import{L as H,F,H as x,a as L}from"./api-aKvoFoL3.js";import{_ as b,c as n,a,b as t,r as d,w as p,F as h,d as w,e as _,o as V,f as r,g as f,t as g}from"./index-BmQPrNaS.js";const B={name:"HomeView",components:{Header:x,Footer:F,Loading:H},setup(){const i=_([]),e=_(!0),c=_(null),s=(o,u)=>o.length<=u?o:o.substring(0,u)+"...";return V(async()=>{try{const o=await L.getHomeData();i.value=o.data}catch(o){c.value="无法加载数据，请稍后再试",console.error("获取首页数据失败:",o)}finally{e.value=!1}}),{featuredPosts:i,loading:e,error:c,truncateText:s}}},N={class:"home"},T={class:"hero"},C={class:"featured-posts"},D={key:0,class:"loading-container"},P={key:1,class:"posts-grid"};function E(i,e,c,s,o,u){const v=d("Header"),m=d("router-link"),y=d("Loading"),k=d("Footer");return r(),n("div",N,[a(v),t("main",null,[t("section",T,[e[1]||(e[1]=t("h1",null,"欢迎来到我们的网站",-1)),e[2]||(e[2]=t("p",null,"探索更多精彩内容",-1)),a(m,{to:"/list",class:"btn"},{default:p(()=>e[0]||(e[0]=[f("查看列表")])),_:1,__:[0]})]),t("section",C,[e[4]||(e[4]=t("h2",null,"精选内容",-1)),s.loading?(r(),n("div",D,[a(y)])):(r(),n("div",P,[(r(!0),n(h,null,w(s.featuredPosts,l=>(r(),n("div",{key:l.id,class:"post-card"},[t("h3",null,g(l.title),1),t("p",null,g(s.truncateText(l.body,100)),1),a(m,{to:"/detail/"+l.id,class:"read-more"},{default:p(()=>e[3]||(e[3]=[f("阅读更多")])),_:2,__:[3]},1032,["to"])]))),128))]))])]),a(k)])}const S=b(B,[["render",E],["__scopeId","data-v-4fe20dc9"]]);export{S as default};
